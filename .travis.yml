---
dist: xenial
sudo: required

services:
  - docker

language: minimal

branches:
  except:
    - /^v\d+\.\d+(\.\d+)?(-\S*)?$/

env:
  - OS=alpine DOTVER=3.10 DASHVER=3_10
  - OS=alpine DOTVER=3.5 DASHVER=3_5
  - OS=alpine DOTVER=3.6 DASHVER=3_6
  - OS=alpine DOTVER=3.7 DASHVER=3_7
  - OS=alpine DOTVER=3.8 DASHVER=3_8
  - OS=alpine DOTVER=3.9 DASHVER=3_9
  - OS=centos DOTVER=7 DASHVER=7
# not yet
#env:
#  - OS=archlinux DOTVER=latest DASHVER=latest
#  - OS=fedora DOTVER=23 DASVER=23
#  - OS=fedora DOTVER=24 DASVER=24
#  - OS=fedora DOTVER=25 DASVER=25
#  - OS=fedora DOTVER=26 DASVER=26
#  - OS=fedora DOTVER=27 DASVER=27
#  - OS=fedora DOTVER=28 DASVER=28
#  - OS=fedora DOTVER=29 DASVER=29
#  - OS=fedora DOTVER=20 DASVER=30
#  - OS=debian DOTVER=jessie DASHVER=jessie
#  - OS=debian DOTVER=stretch DASHVER=stretch
#  - OS=debian DOTVER=buster DASHVER=buster
#  - OS=ubuntu DOTVER=trusty DASHVER=trusty
#  - OS=ubuntu DOTVER=xenial DASHVER=xenial
#  - OS=ubuntu DOTVER=bionic DASHVER=bionic

script:
  - ./build.sh $OS $DOTVER $DASHVER
#  - docker login -u $DCB_TARGET_QUAY_IO_USER -p $DCB_TARGET_QUAY_IO_PWD
#  - docker push quay.io/andrewrothstein/docker-ansible:$OS
